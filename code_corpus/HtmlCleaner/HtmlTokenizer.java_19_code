    private void saveCurrent(int size) throws IOException {
        readIfNeeded(size);
        int pos = this.pos;
        while (!isAllRead() && (size > 0)) {
            save(working[pos]);
            pos++;
            size--;
        }
    }

    private void saveCurrentSafe() {
        save(working[pos]);
    }

