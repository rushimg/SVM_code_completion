  private void removeLast(HeapEntry<E> entry) {
    indexToEntry.remove(entry.index);
    objectToEntry.remove(entry.object);
  }

  private HeapEntry<E> getEntry(E o) {
    HeapEntry<E> entry = objectToEntry.get(o);
    if (entry == null) {
      entry = new HeapEntry<E>();
      entry.index = size();
      entry.object = o;
      indexToEntry.add(entry);
      objectToEntry.put(o, entry);
    }
    return entry;
  }

