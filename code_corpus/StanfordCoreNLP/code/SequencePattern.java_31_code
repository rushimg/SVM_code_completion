  static class SeqEndState extends State {

    public SeqEndState()
    {
    }

    @Override
    protected <T> boolean match(int bid, SequenceMatcher.MatchedStates<T> matchedStates, boolean consume, State prevState)
    {
      if (!consume) {
        if (matchedStates.curPosition == matchedStates.elements().size()-1) {
          // Okay - try next
          return super.match(bid, matchedStates, consume, this);
        }
      }
      return false;
    }
  }

