  @Override
  public String toString() {
    final StringBuilder sb = new StringBuilder();
    apply(new TreeVisitor() {
      public void visitTree(Tree t) {
        sb.append(t.toString());
        sb.append('\n');
      }
    });
    return sb.toString();
  }


  private static final class CounterTreeProcessor implements TreeVisitor {
    int i; // = 0;

    public void visitTree(Tree t) {
      i++;
    }

    public int total() {
      return i;
    }
  }


