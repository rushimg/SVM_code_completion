  public ClassicCounter<K2> setCounter(K1 o, Counter<K2> c) {
    ClassicCounter<K2> old = getCounter(o);
    total -= old.totalCount();
    if (c instanceof ClassicCounter) {
      map.put(o, (ClassicCounter<K2>) c);
    } else {
      map.put(o, new ClassicCounter<K2>(c));
    }
    total += c.totalCount();
    return old;
  }

