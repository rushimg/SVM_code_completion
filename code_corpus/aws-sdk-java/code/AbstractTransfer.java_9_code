    public synchronized TransferState getState() {
        return state;
    }

