    private void configRequest(
        Request<?> request, String bucketName, String key)
    {
        if ( !clientOptions.isPathStyleAccess()
             && BucketNameUtils.isDNSBucketName(bucketName)
             && !validIP(endpoint.getHost()) ) {
            request.setEndpoint(convertToVirtualHostEndpoint(bucketName));
