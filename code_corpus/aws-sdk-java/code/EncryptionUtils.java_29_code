    private static long getUnencryptedContentLength(PutObjectRequest request, ObjectMetadata metadata) {
        if (request.getFile() != null) {
            return request.getFile().length();
        } else if (request.getInputStream() != null && metadata.getContentLength() > 0) {
            return metadata.getContentLength();
        }

        return -1;
    }

