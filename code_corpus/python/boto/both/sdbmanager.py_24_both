    def encode_reference(self, value):
        if value in (None, 'None', '', ' '):
            return None
        if isinstance(value, basestring):
            return value
        else:
            return value.id
