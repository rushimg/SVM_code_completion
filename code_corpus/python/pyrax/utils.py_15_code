def params_to_dict(params, dct, local_dict):
    """
    Given a set of optional parameter names, constructs a dictionary with the
    parameter name as the key, and the value for that key in the local_dict as
    the value, for all non-None values.
    """
    for param in params:
        val = local_dict.get(param)
        if val is None:
            continue
        dct[param] = val
    return dct


